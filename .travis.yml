dist: trusty
sudo: required
language: clojure

cache:
  directories:
    - $HOME/.m2

before_script:
  # update lein to latest, https://github.com/technomancy/leiningen/issues/2014#issuecomment-153829977
  - yes y | sudo lein upgrade
  - sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
  - sudo add-apt-repository -y ppa:mfikes/planck
  - sudo apt-get -qq update
  - sudo apt-get install -y planck
  - nvm install node
  - nvm use node
  - npm install -g lumo-cljs

script: lein test-all
